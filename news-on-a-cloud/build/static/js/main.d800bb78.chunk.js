(this["webpackJsonpnews-on-a-cloud"]=this["webpackJsonpnews-on-a-cloud"]||[]).push([[0],{115:function(e,t,a){e.exports=a(129)},120:function(e,t,a){},121:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},122:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),o=a.n(l),c=(a(120),a(121),a(122),a(167)),i=a(169),m=a(171),u=a(131),s=a(173),d=a(94),g=a.n(d),E=a(194),f=a(40),p=Object(c.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function h(){var e=p();return r.a.createElement("div",{className:e.root},r.a.createElement(i.a,{position:"static"},r.a.createElement(m.a,null,r.a.createElement("img",{src:"/articleImg/wi-fi-512.png",alt:".",style:{height:"90px"}}),r.a.createElement(u.a,{variant:"h3",className:e.title,style:{marginLeft:"10px",marginTop:"30px"}},r.a.createElement(f.b,{to:"/",style:{textDecoration:"none",color:"white"}},"News on a Cloud")),r.a.createElement(f.b,{to:"/admin",style:{float:"right"}},r.a.createElement(E.a,{title:"admin"},r.a.createElement(s.a,{color:"default",size:"medium"},r.a.createElement(g.a,{fontSize:"large"})))))))}var y=a(15),b=a(11),v=a(174),x=a(175),S=a(177),w=a(176),C=a(69),j=a.n(C),O=a(178),k=Object(c.a)({root:{maxWidth:330,minWidth:330},media:{height:140}});function R(e){var t=k();return r.a.createElement(f.b,{to:"/"+e.article.id,style:{textDecoration:"none"}},r.a.createElement(v.a,{className:t.root},r.a.createElement(x.a,null,r.a.createElement(w.a,{className:t.media,image:"/articleImg/"+e.article.img,title:"Contemplative Reptile"}),r.a.createElement(S.a,null,r.a.createElement(u.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.article.title),r.a.createElement(u.a,{variant:"body2",color:"textSecondary",component:"p"},e.article.content),r.a.createElement(O.a,{style:{marginTop:"5px"}}),r.a.createElement(u.a,{variant:"caption",color:"textSecondary",style:{display:"flex",marginTop:"5px"}},r.a.createElement(j.a,{fontSize:"small",color:"disabled",style:{marginRight:"5px"}}),e.article.writer+", "+new Date(e.article.time).toLocaleDateString("en-GB"))))))}var N=a(190),W=a(179);function D(e){return r.a.createElement(N.a,null,r.a.createElement(u.a,{variant:"h4",color:"primary"},e.name),r.a.createElement(W.a,{container:!0},e.articles.map((function(e){return r.a.createElement(W.a,{item:!0,lg:3,style:{paddingBottom:"15px"}},r.a.createElement(R,{article:e}))}))),r.a.createElement(O.a,null),r.a.createElement("br",null))}var A=a(180),B=a(197),T=a(191),z=a(199),F=a(19),I=a(189),P=a(99);function L(){var e=r.a.useState({loading:!0,articles:null}),t=Object(b.a)(e,2),a=t[0],n=t[1],l=r.a.useState(""),o=Object(b.a)(l,2),c=o[0],i=o[1],m=r.a.useState(null),u=Object(b.a)(m,2),s=u[0],d=u[1],g=r.a.useState(a.articles),E=Object(b.a)(g,2),f=E[0],p=E[1];return r.a.useEffect((function(){n({loading:!0});fetch("/articles").then((function(e){return e.json()})).then((function(e){var t=e.reduce((function(e,t){return e[t.category]=[].concat(Object(y.a)(e[t.category]||[]),[t]),e}),{});console.log(t),p(t),n({loading:!1,articles:t})}))}),[]),r.a.useEffect((function(){var e={};""!==c?e[c]=a.articles[c]:e=a.articles,p(e)}),[c,s]),r.a.createElement("div",{style:{backgroundColor:"#efefef"}},r.a.createElement(N.a,{px:4},a.loading?"loading":r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{container:!0,justify:"flex-end",alignItems:"flex-end",spacing:2},r.a.createElement(W.a,{item:!0,md:2},r.a.createElement(A.a,{fullWidth:!0,style:{marginBottom:"8px"}},r.a.createElement(B.a,{id:"filterCategory"},"Category"),r.a.createElement(T.a,{fullWidth:!0,labelId:"filterCategory",value:c,onChange:function(e){i(e.target.value)}},r.a.createElement(z.a,{value:""},r.a.createElement("em",null,"All")),Object.keys(a.articles).map((function(e){return r.a.createElement(z.a,{value:e},e)}))))),r.a.createElement(W.a,{item:!0,md:2},r.a.createElement(F.a,{utils:P.a},r.a.createElement(I.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",label:"Date",value:s,onChange:function(e){d(e)}})))),Object.keys(f).map((function(e){return r.a.createElement(D,{name:e,articles:s?f[e].filter((function(e){var t=new Date(e.time);return t.getFullYear()===s.getFullYear()&&t.getMonth()===s.getMonth()&&t.getDate()===s.getDate()})):f[e]})})))))}var q=a(77),M=a(200),G=a(188),J=a(193),H=a(192),Y=a(96),$=a.n(Y),K=a(186),Q=a(195),U=a(185),V=a(184),X=a(187);function Z(e){var t=r.a.useState(!1),a=Object(b.a)(t,2),n=a[0],l=a[1],o=r.a.useState(""),c=Object(b.a)(o,2),i=c[0],m=c[1],u=function(){l(!1)};return r.a.createElement("div",null,r.a.createElement(K.a,{color:"primary",onClick:function(){l(!0)},style:{float:"right"}},"Add Category"),r.a.createElement(Q.a,{open:n,onClose:u},r.a.createElement(X.a,null,"Add a new category"),r.a.createElement(V.a,null,r.a.createElement(M.a,{fullWidth:!0,required:!0,value:i,name:"categoryName",label:"Name",onChange:function(e){return m(e.target.value)}})),r.a.createElement(U.a,null,r.a.createElement(K.a,{onClick:u,color:"primary"},"Cancel"),r.a.createElement(K.a,{onClick:function(){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i})};fetch("/category",t).then((function(e){return e.json()})).then((function(e){return console.log(e)})),e.handleCategoryAdded(),l(!1)},color:"primary",autoFocus:!0},"Add"))))}function _(e){return r.a.createElement(H.a,Object.assign({elevation:6,variant:"filled"},e))}function ee(){var e=r.a.useState(!0),t=Object(b.a)(e,2),a=t[0],n=t[1],l=r.a.useState(),o=Object(b.a)(l,2),c=o[0],i=o[1],m=Object(q.b)(),s=m.register,d=m.control,g=m.handleSubmit,E=r.a.useState(!1),f=Object(b.a)(E,2),p=f[0],h=f[1],y=r.a.useState(!1),v=Object(b.a)(y,2),x=v[0],S=v[1],w=r.a.useState(!1),C=Object(b.a)(w,2),j=C[0],O=C[1],k=function(e,t){"clickaway"!==t&&(S(!1),O(!1))};return r.a.useEffect((function(){fetch("/category").then((function(e){return e.json()})).then((function(e){console.log(e),i(e),h(!1),n(!1)}))}),[p]),r.a.createElement(N.a,{px:15,py:4},r.a.createElement(u.a,{variant:"h5",style:{marginBottom:"10px"}},"Add a new Article"),r.a.createElement("form",{onSubmit:g((function(e){console.log(e);var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("/articles",t).then((function(e){return e.json()})).then((function(e){console.log(e),1===e.rowCount?S(!0):O(!0)})).catch((function(e){return O(!0)}))}))},r.a.createElement(W.a,{container:!0,spacing:2},r.a.createElement(W.a,{item:!0,md:6},r.a.createElement(M.a,{fullWidth:!0,required:!0,variant:"outlined",name:"title",label:"Title",inputRef:s})),r.a.createElement(W.a,{item:!0,md:6}),r.a.createElement(W.a,{item:!0,md:6},r.a.createElement(M.a,{fullWidth:!0,required:!0,variant:"outlined",name:"writer",label:"Writer",inputRef:s})),r.a.createElement(W.a,{item:!0,md:6},a?"Loading":r.a.createElement(A.a,{variant:"outlined",fullWidth:!0,required:!0},r.a.createElement(B.a,{id:"categoryLabel"},"Category"),r.a.createElement(q.a,{as:r.a.createElement(T.a,{id:"category",labelId:"categoryLabel",label:"Catrgory"},c.map((function(e){return r.a.createElement(z.a,{value:e.id},e.name)}))),control:d,name:"category"}))),r.a.createElement(W.a,{item:!0,md:12},r.a.createElement(Z,{handleCategoryAdded:function(){h(!0)}})),r.a.createElement(W.a,{item:!0,md:12},r.a.createElement(M.a,{fullWidth:!0,required:!0,variant:"outlined",multiline:!0,rows:3,name:"content",label:"Content",inputRef:s})),r.a.createElement(W.a,{item:!0,md:12},r.a.createElement(M.a,{fullWidth:!0,required:!0,variant:"outlined",multiline:!0,rows:10,name:"body",label:"Article Body",inputRef:s})),r.a.createElement(W.a,{item:!0,md:12},r.a.createElement(G.a,{type:"submit",color:"primary","aria-label":"add",style:{float:"right"}},r.a.createElement($.a,null))))),r.a.createElement(J.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:x,autoHideDuration:6e3,onClose:k},r.a.createElement(_,{onClose:k,severity:"success"},"Added article successfully")),r.a.createElement(J.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:j,autoHideDuration:6e3,onClose:k},r.a.createElement(_,{onClose:k,severity:"error"},"Somthing went wrong, Please try again")))}var te=a(14),ae=a(24),ne=a(79),re=a(97),le=a.n(re),oe=a(98),ce=a.n(oe),ie=Object(c.a)((function(e){return{mainFeaturedPost:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.6)"},mainFeaturedPostContent:Object(ae.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(3),paddingRight:0})}}));function me(e){var t=ie(),a=e.match.params.id,n=r.a.useState(!0),l=Object(b.a)(n,2),o=l[0],c=l[1],i=r.a.useState(),m=Object(b.a)(i,2),s=m[0],d=m[1];return r.a.useEffect((function(){var e="/articles/".concat(a);fetch(e).then((function(e){return e.json()})).then((function(e){console.log(e),d(e[0]),c(!1)}))}),[]),r.a.createElement(N.a,null,o?"Loading":r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{className:t.mainFeaturedPost,style:{backgroundImage:"url(articleImg/".concat(s.img,")"),minHeight:"300px"}},r.a.createElement("img",{style:{display:"none"},src:"articleImg/"+s.img,alt:a}),r.a.createElement("div",{className:t.overlay}),r.a.createElement(W.a,{container:!0,style:{position:"absolute",bottom:"0"}},r.a.createElement(W.a,{item:!0,md:6},r.a.createElement("div",{className:t.mainFeaturedPostContent},r.a.createElement(u.a,{component:"h1",variant:"h3",color:"inherit",gutterBottom:!0},s.title))))),r.a.createElement(N.a,{p:4},r.a.createElement(W.a,{container:!0},r.a.createElement(W.a,{item:!0,lg:12},r.a.createElement(u.a,{variant:"h6",paragraph:!0},s.content)),r.a.createElement(W.a,{item:!0},r.a.createElement(u.a,{variant:"caption",color:"textSecondary",style:{display:"flex",marginRight:"15px"}},r.a.createElement(j.a,{fontSize:"small",color:"disabled",style:{marginRight:"5px"}}),new Date(s.time).toLocaleDateString("en-GB"))),r.a.createElement(W.a,{item:!0},r.a.createElement(u.a,{variant:"caption",color:"textSecondary",style:{display:"flex",marginRight:"15px"}},r.a.createElement(le.a,{fontSize:"small",color:"disabled",style:{marginRight:"5px"}}),s.writer)),r.a.createElement(W.a,{item:!0},r.a.createElement(u.a,{variant:"caption",color:"textSecondary",style:{display:"flex",marginRight:"15px"}},r.a.createElement(ce.a,{fontSize:"small",color:"disabled",style:{marginRight:"5px"}}),s.views)),r.a.createElement(W.a,{item:!0,lg:12,style:{marginTop:"15px"}},r.a.createElement(u.a,{variant:"body1"},s.body))))))}var ue=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(te.c,null,r.a.createElement(te.a,{exact:!0,path:"/",component:L}),r.a.createElement(te.a,{path:"/admin",component:ee}),r.a.createElement(te.a,{path:"/:id",component:me})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f.a,null,r.a.createElement(ue,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[115,1,2]]]);
//# sourceMappingURL=main.d800bb78.chunk.js.map